{
  "presets": [
    [
      "@babel/preset-env",
      {
        "modules": true, // 模块使用 commonJS 规范  ，不使用 es modules
        "useBuiltIns": "usage", // 按需引入 polyfill
        "corejs": 3
      }
    ],
    "@babel/preset-react",
    "@babel/preset-typescript"
  ],
  "plugins": [
    "@babel/plugin-syntax-dynamic-import",
    [
      "@babel/plugin-proposal-class-properties",
      { // 解析class语法
        "loose": true
      }
    ],
    [
      "@babel/plugin-proposal-decorators",
      {
        "legacy": true
      }
    ],
    [
      "@babel/plugin-transform-runtime",
      {
        "corejs": false, // 如果要指定版本，例如填 3，就要安装 npm i @babel/runtime-corejs3 -S，配置了指定版本后，打包后，体积会变大
        // "helpers": true, // 默认，可以不写
        "regenerator": false, // 通过 preset-env 已经使用了全局的 regeneratorRuntime, 不再需要 transform-runtime 提供的 不污染全局的 regeneratorRuntime
        "useESModules": false // 使用commonJS 语法代码 , 减少es modules helpers
      }
    ],
    [
      "@babel/plugin-transform-modules-commonjs", // 将 ECMAScript modules 转成 CommonJS.
      {
        "allowTopLevelThis": true,
        "loose": true,
        "lazy": true
      }
    ]
  ]
}